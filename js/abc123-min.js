(function(){var t=null,e=new r;function n(){this.observerList=[]}n.prototype.add=function(t){return this.observerList.push(t)};n.prototype.count=function(){return this.observerList.length};n.prototype.get=function(t){if(t>-1&&t<this.observerList.length){return this.observerList[t]}};n.prototype.animate=function(){clearInterval(t);var e=[],n=[],r=false,o=this,i=o.count(),s,a,u,f,h,p,c;t=setInterval((function(){for(s=0;s<i;s++){a=o.get(s);h=parseInt(a.wide);if(!r){n[s]=h;e[s]=0;r=n.length===i?true:false}p=a.show;c=a.open;if(!p&&c&&n[s]>=0){a.style.width=n[s]+"px";a.style.marginRight="0px";a.style.marginBottom="0px";n[s]=n[s]-5}if(p&&!c&&e[s]<=h){a.style.width=e[s]+"px";a.style.marginRight="10px";a.style.marginBottom="10px";e[s]=e[s]+5}}}),1)};function r(){this.observers=new n}r.prototype.addObserver=function(t){this.observers.add(t)};r.prototype.notify=function(t){var e,n=this.observers.count();for(e=0;e<n;e++){this.observers.get(e).update(t)}this.observers.animate()};function o(){}o.prototype.update=function(t){var e,n=t.length,r,o=this.context.length;this.open=this.show?true:false;if(n===0){this.show=true;return}this.show=false;for(e=0;e<n;e++){for(r=0;r<o;r++){if(t[e]===this.context[r]){this.show=true;return}}}};o.prototype.setProps=function(t){var e;for(e in t){this[e]=t[e]}};function i(t,e){var n;for(n in t){e[n]=t[n]}}function s(t){var e=[];var n=t.firstChild;while(n){if(n.nodeType===1){e.push(n)}n=n.nextSibling}return e}function a(t){var t=t.replace(/\s/g,"").toLowerCase(),e=t.length===0?[]:t.split(",");return e}function u(){var t=document.getElementById("slides-wrapper"),n=s(t),r,u=n.length,f,h={};for(r=0;r<u;r++){i(new o,n[r]);f=n[r].getAttribute("data-context");h.context=a(f);h.wide=n[r].getAttribute("data-width");h.open=true;h.show=true;n[r].setProps(h);e.addObserver(n[r])}}function f(){var t=document.getElementById("buttons-wrapper"),n=s(t),r,o=n.length,i;for(r=0;r<o;r++){i=n[r].getAttribute("data-context");n[r].context=a(i);n[r].addEventListener("click",(function(){e.notify(this.context)}),false)}u()}window.addEventListener("load",f,false)})();